1. 介绍

这是ED060SC4 800*600 墨水屏幕驱动。这个驱动是适用在单片机直接连接屏幕的，
不支持带有控制IC的屏幕。

要使用这个驱动，需要单片机提供下面的信号

Gate 驱动: SPV, CKV, GMODE.
Source 驱动: CL, LE, OE, SPH, D0-D7.
电源: +-15V, +22V, -20V, digital Vdd

 "example_schematics.png"这个是电路原理图，里面介绍ED060SC4的连接、电源电路、
 使用的是STM32L151单片机。

需要注意更大的屏幕（比如800*600)由多个独立的gate驱动信号组成。就像原理图里面的菊花链。

关于更多墨水屏的信息
http://essentialscrap.com/eink/


2. Frame buffer emulation

Because there is not enough memory to store a full frame buffer on the
processor, this driver emulates a frame buffer by storing the display data in
blocks. It will buffer up to EINK_NUMBUFFERS blocks and then write them to the
screen. The following #defines control the buffering. Larger numbers will
result in faster drawing, but also use more RAM on the processor:

#define EINK_BLOCKWIDTH 20    // Width of a single block in buffer
#define EINK_BLOCKHEIGHT 20   // Height of a single block in buffers
#define EINK_NUMBUFFERS 40    // Number of blocks to buffer

After drawing your images, you should flush the buffers using the following
command:

    #include <ed060sc4.h>
    gdispControl(GDISP_CONTROL_FLUSH, 0);

The buffers are also flushed whenever you turn the display off using:

    gdispSetPowerMode(powerOff);



3. Display clearing and writing waveforms

This driver does not know the official Prime View waveforms for driving the
display, mostly because those are trade secrets and not publicly available.
Instead, it uses reverse engineered waveforms that are mostly functional.

The following #defines control the waveforms:

#define EINK_BLINKCLEAR TRUE      // Clear to opposite color first
#define EINK_CLEARCOUNT 10        // Number of sweeps to clear the display
#define EINK_WRITECOUNT 4         // Number of sweeps when writing to display

Increasing the clearcount and writecount can improve contrast, but will also
slow down the drawing and use more power.



4. Clock speeds

Because the driver bit bangs the display, the clock frequency of the processor
is quite significant. This is controlled by EINK_CLOCKDELAY variable. Set it
so that the delay is atleast 50 nanoseconds.



5. Support for other kinds of panels

Most of the Prime View panels should work using this driver, but only ED060SC4
has been tested so far. Some points of consideration:

- Some displays may use 4 bits per pixel. The driver currently assumes 2 bits
  per pixel.
- Larger displays may require some other way of daisy chaining than shown in
  the example schematics.

  
